{"version":3,"sources":["webpack:///./src/components/Locker/UploadDocument.vue","webpack:///./src/components/Locker/UploadDocument.vue?0138","webpack:///./src/components/Locker/locker.vue","webpack:///./src/components/Locker/locker.vue?4662","webpack:///./src/components/DropZone.vue?9a40","webpack:///./src/components/DropZone.vue","webpack:///./src/components/DropZone.vue?81f5","webpack:///./src/components/Locker/locker.vue?3e55","webpack:///./src/components/Locker/UploadDocument.vue?f3ea"],"names":["active","ref","dropzoneFile","previewFile","dataFile","value","loading","preview","isSelected","isUpload","store","useStore","selectedFiles","error","error_message","file","form_data","title","files","preparedFile","i","length","size","reader","FileReader","params","onloadend","push","result","trim","name","split","slice","join","readAsDataURL","drop","e","dropFiles","dataTransfer","selectedFile","target","removeItem","index","splice","SubmitHandler","dispatch","then","res","emits","__exports__","toast","useToast","profile","moment","format","computed","state","ProfileModule","userProfile","dateTime","date","allLockerDocuments","postLockerDocument","getToken","useGetters","getLockerDocuments","deleteDocument","getUser","useActions","email","otp","cancelModal","shareModal","otpModal","access_locker_documents","questionModal","document_id","sessionId","openSessionModal","cancelSessionModal","id","shareDocumentModal","deleteLockerDocument","formData","shareLockerDocument","documents","ToNote","put","success","timeout","position","catch","err","message","otpLocker","post","response","data","resendOtp","get","onMounted","onUpdated","setTimeout","$","fn","dataTable","isDataTable","DataTable","columnDefs","orderable","targets","order","aaSorting","lengthMenu","pageLength","toggleActive"],"mappings":"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","file":"js/locker.5842f575.js","sourcesContent":["<template>\n     \n  <div class=\"modal-body\">\n    <div class=\"my-2\">\n      <label class=\"form-label\" for=\"document_type\">Title *</label>\n      <input type=\"text\" class=\"form-control\" id=\"document_type\" placeholder=\"Enter document title\"\n        :style=\"error_message.title && 'border: 1px solid red'\"  v-model=\"form_data.title\"\n        @change=\"error_message.title = null\" />\n    </div>\n    <div v-if=\"form_data?.files.length > 0\" @change=\"selectedFile\" >  \n      <div @dragenter.prevent=\"toggleActive\" @dragleave.prevent=\"toggleActive\" @dragover.prevent\n      @drop.prevent=\"toggleActive\" :class=\"{ 'active-dropzone': active }\" class=\"dropzone h-auto border border-0 d-block\">\n      <label for=\"dropzoneFile\"  role=\"button\">\n        <div class=\"text-center\">\n         \n          <h4 class=\"btn btn-primary\">Select More</h4>\n          \n          <slot name=\"input\">\n            <input type=\"file\" id=\"dropzoneFile\" multiple class=\"dropzoneFile\" />\n          </slot>\n        </div>\n      </label>\n    </div>\n    </div>\n\n    <DropZone v-else  @drop.prevent=\"drop\" @change=\"selectedFile\">\n              <template #format>\n               Upload PDF only\n              \n              </template>\n              \n              <template #input>\n                <input type=\"file\" id=\"dropzoneFile\" multiple class=\"dropzoneFile\" accept=\".pdf\" />\n              </template>\n    </DropZone>\n    \n    <div class=\"card mb-1 mt-50 shadow-none border d-flex\" v-for=\"(prev, index) in previewFile\" :key=\"index\">\n          <div class=\"p-50\">\n            <div class=\"d-flex align-items-center\">\n              <!-- <div class=\"col-auto\">\n                <img data-dz-thumbnail src=\"@/assets/default.png\" class=\"avatar-sm rounded bg-light\" :alt=\"prev\" />\n              </div> -->\n\n              <div class=\"col ps-0\">\n                <!-- <a href=\"javascript:void(0)\" class=\"text-muted fw-bold\" data-dz-name></a> -->\n                <p class=\"mb-0\" data-dz-size>{{ prev }}</p>\n              </div>\n\n              <div class=\"col-auto\">\n                <a role=\"button\" class=\"btn mb-0 btn-sm btn-outline-danger ds-remove filed\" data-id=\"#document_id\"\n                  data-name=\"fileName\" @click=\"removeItem(index)\">\n                  X\n                </a>\n              </div>\n            </div>\n          </div>\n        </div>\n    \n    <label v-if=\"error_message.file\" class=\"text-danger small\" for=\"error\">{{\n        error_message.file\n    }}</label>\n    <p v-if=\"preview\" class=\"text-primary\">{{ preview }}</p>\n   \n  <div class=\"modal-footer\">\n    <button  :disabled=\"loading\" @click=\"SubmitHandler\" type=\"button\" class=\"btn btn-primary\">\n      <span v-show=\"loading\" class=\"spinner-border spinner-border-sm\"></span>\n      Upload\n    </button>\n  </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, defineEmits } from \"vue\";\nimport { useStore } from \"vuex\";\nimport { useActions, useGetters } from \"vuex-composition-helpers/dist\";\n\nimport DropZone from \"@/components/DropZone.vue\";\n\nconst emits = defineEmits([\"close\"]);\nconst active = ref(false);\nconst dropzoneFile = ref(\"\");\nconst previewFile = ref([]);\nconst dataFile = ref([]);\ndataFile.value = [];\npreviewFile.value = [];\nconst loading = ref(false);\nconst preview = ref(null);\nconst isSelected = ref(false);\nconst isUpload = ref(false);\nconst store = useStore();\nlet selectedFiles= ref(\"\");\n\nconst error = ref(true);\nconst error_message = ref({\n  file: null,\n});\n\nconst form_data = ref({\n  title: \"\",\n  files: [],\n \n});\n\n// const close = () => {\n//   console.log('close')\n// }\n\n\nconst preparedFile = (file) => {\n  for (let i = 0; i < file.length; i++) {\n    if(file[i].size > 2097152){\n      //  alert(\"File is too big!\");\n       error_message.value.file = \"File is too big!\";\n       form_data.value.title= \"\"\n       error.value = true;\n\n        return false;\n    } else {\n      let reader = new FileReader();\n    const params = file[i];\n    reader.onloadend = () => {\n      form_data.value.files.push(reader.result);\n\n      if (!form_data.value.title || !form_data.value.title.trim()) {\n    form_data.value.title = params.name.split('.').slice(0, -1).join('.');\n  }\n      // form_data.value.title = params.name;\n      previewFile.value.push(params.name);\n    };\n    reader.readAsDataURL(params);\n    }\n\n   \n  }\n\n  isSelected.value = true;\n  // let reader = new FileReader();\n\n  // reader.onloadend = () => {\n  //   form_data.value.files = [reader.result];\n  // };\n  // reader.readAsDataURL(file);\n  // isSelected.value = true;\n};\n\nconst drop = (e) => {\n  isUpload.value = true;\n\n  let dropFiles = (dropzoneFile.value = e.dataTransfer.files);\n  // form_data.value.title = dropzoneFile.value[0].name.split('.').slice(0, -1).join('.');\n  preparedFile(dropFiles);\n  // preview.value = dropFiles.name;\n  !form_data.value.title || !form_data.value.title.trim()\n    ? (form_data.value.title = dropzoneFile.value[0].name.split('.').slice(0, -1).join('.'))\n    : null;\n};\n\nconst selectedFile = (e) => {\n  let dropFiles = (dropzoneFile.value = e.target.files);\n  preparedFile(dropFiles);\n  isSelected.value = true;\n\n  isUpload.value = true;\n  selectedFiles = e.target.files;\n\n  // let dropFiles = (dropzoneFile.value = document.querySelector(\".dropzoneFile\").files[0]);\n    // console.log( document.querySelector(\".dropzoneFile\").files)\n  // preparedFile(dropFiles);\n  // form_data.value.title = dropFiles[0].name.split('.').slice(0, -1).join('.')\n  // preview.value = dropFiles.name;\n \n};\n\nconst removeItem = (index) => {\n  previewFile.value.splice(index, 1);\n  form_data.value.files.splice(index, 1)\n  // console.log(form_data.value.files, 'files')\n  dataFile.value.splice(index, 1);\n  if (previewFile.value.length == 0) {\n    form_data.value.files= []\n    dataFile.value = [];\n    previewFile.value = [];\n    form_data.value.title = \"\";\n    isSelected.value = false;\n  }\n};\n\n\nconst SubmitHandler = () => {\n  if (!form_data.value.files || form_data.value.files.length === 0) {\n    error_message.value.file = \"Please upload your document\";\n    error.value = true;\n  } else {\n    error_message.value.file = null;\n    error.value = false;\n  }\n\n\n\n  if (\n    !error_message.value.title && \n    !error_message.value.file\n  ) {\n    loading.value = true\n    store.dispatch(\"locker/uploadDocument\", {\n      ...form_data.value,\n    }).then((res) => {\n      loading.value = false;\n      emits('close')\n      // store.dispatch(\"locker/getLockerDocuments\")\n    }) ;\n  }\n};\n</script>\n\n<style lang=\"css\" scoped>\n.dropzone {\n  width: 100%;\n  height: 150px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  row-gap: 16px;\n  border: 2px dashed #999;\n  background-color: #fff;\n  transition: 0.3s ease all;\n  border-radius: 3px;\n}\n\nlabel {\n  transition: 0.3s ease all;\n}\n\n.dropzone input {\n  display: none;\n}\n\n.active-dropzone {\n  color: #fff;\n  border-color: #fff;\n  background-color: #00cfe8;\n}\n\n.custom-file-upload {\n  width: 100%;\n  height: 100%;\n  display: grid;\n  place-items: center;\n}\n</style>\n","import script from \"./UploadDocument.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./UploadDocument.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./UploadDocument.vue?vue&type=style&index=0&id=68cfda79&lang=css&scoped=true\"\n\nimport exportComponent from \"/Users/mac/Documents/tonote_for_users/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-68cfda79\"]])\n\nexport default __exports__","<template>\n  <div class=\"container-fluid\">\n    <div class=\"row p-0\" id=\"basic-table \">\n     \n      <div class=\"col-12\">\n        <div class=\"card\">\n          <div class=\"card-header d-flex justify-content-between\">\n            <h4 class=\"card-title\">Locker Documents</h4>\n            <div class=\"wrap\">\n              <span\n              @click=\"openSessionModal()\"\n              \n                class=\"btn btn-primary waves-effect\"\n              >\n                <svg\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  width=\"14\"\n                  height=\"14\"\n                  viewBox=\"0 0 24 24\"\n                  fill=\"none\"\n                  stroke=\"currentColor\"\n                  stroke-width=\"2\"\n                  stroke-linecap=\"round\"\n                  stroke-linejoin=\"round\"\n                  class=\"feather feather-plus\"\n                >\n                  <line x1=\"12\" y1=\"5\" x2=\"12\" y2=\"19\"></line>\n                  <line x1=\"5\" y1=\"12\" x2=\"19\" y2=\"12\"></line>\n                </svg>\n                <span>Upload Document</span>\n              </span>\n            </div>\n          </div>\n          <div class=\"card-body py-4\">\n            <div class=\"table-responsive\">\n              <table class=\"table table-hover\" id=\"allrecord\">\n                <thead>\n                  <tr>\n                    <th>S/N</th>\n                    <th>Document Title</th>\n                    \n                    <th>Time</th>\n                    <th>Status</th>\n                   \n                    <th>Actions</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  <tr v-for=\"(result, index) in allLockerDocuments.filter(result => result.status == 'Locked')\" :key=\"index\">\n                    <!-- <template v-if=\"result.entry_point === 'Video'\"> -->\n                    <td>{{ ++index }}</td>\n\n                    <td>\n                      <h6\n                        class=\"user-name text-truncate mb-0\"\n                        style=\"width: 300px\"\n                      >\n                        {{ result.title }}\n                      </h6>\n                      <!-- <small\n                        class=\"badge rounded-pill me-1\"\n                        :class=\"[\n                          result.immediate == true\n                            ? 'badge-light-danger'\n                            : 'badge-light-primary',\n                        ]\"\n                      >\n                        {{\n                          result.immediate == true\n                            ? \"Immediate Session\"\n                            : \"Scheduled Session\"\n                        }}\n                      </small> -->\n                    </td>\n\n                   <!-- <td>\n                      <small class=\"badge badge-light-primary\">\n                        Participants {{ result.participants_count }}\n                      </small>\n                    </td> -->\n\n                    <td>\n                      <div class=\"d-flex flex-column\">\n                        <h6 class=\"user-name text-truncate mb-0\">\n                          {{ dateTime(result.created_at) }}\n                        </h6>\n                      </div>\n                    </td>\n                    <td>\n                      <span\n                        class=\"badge rounded-pill me-1\"\n                        :class=\"[\n                          result.status == 'Pending'\n                            ? 'bg-warning'\n                            : 'bg-success',\n                        ]\"\n                      >\n                        {{ result.status }}\n                      </span>\n                    </td>\n                   \n                    <td>\n                      <div class=\"dropdown\">\n                        <a\n                          class=\"btn btn-sm btn-icon dropdown-toggle hide-arrow\"\n                          data-bs-toggle=\"dropdown\"\n                          aria-expanded=\"false\"\n                        >\n                          <Icon\n                            icon=\"oi:ellipses\"\n                            :rotate=\"1\"\n                            :verticalFlip=\"true\"\n                          />\n                        </a>\n                        <div class=\"dropdown-menu dropdown-menu-end\">\n                         \n                           \n                            <div @click=\"cancelSessionModal(result.id)\" class=\"dropdown-item\">\n                              <Icon icon=\"mdi:cancel\" />\n                              Delete\n                            </div>\n                            <div class=\"dropdown-item\" @click=\"$event => shareDocumentModal(result.id)\">\n                              <Icon icon=\"carbon:share\" /> Share\n                            </div>\n                            <div class=\"dropdown-item\">\n                              <Icon icon=\"carbon:download\" /> Download\n                            </div>\n                         \n                        </div>\n                      </div>\n\n                     \n                    </td> \n                    <!-- </template> -->\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <ModalComp\n      :show=\"questionModal\"\n      :size=\"modal - sm\"\n      :footer=\"false\"\n      :closeBtn=\"true\"\n      @close=\"questionModal = false\"\n    >\n    <template #header>\n      <h4 class=\"mb-0\">\n       \n       Upload Locker Document\n      </h4>\n    </template>\n      <template #body>\n        <UploadDocument  @close=\"questionModal = false\"/>\n      </template>\n    </ModalComp>\n\n\n    <ModalComp :show=\"cancelModal\" :size=\"'modal-sm'\" @close=\"cancelModal = false\">\n    <template #header>\n      <h4 class=\"text-danger mb-0\">\n        <Icon icon=\"eva:alert-triangle-outline\" style=\"margin-bottom: 3px\" />\n        Alert\n      </h4>\n    </template>\n\n    <template #body>\n      <p class=\"text-center my-2\">Are you sure you want to cancel this Document?</p>\n    </template>\n\n    <template #footer>\n      <button class=\"btn btn-sm btn-secondary\" @click=\"deleteLockerDocument(false)\">\n        No\n      </button>\n      <button class=\"btn btn-sm btn-primary\" @click=\"deleteLockerDocument(true)\">\n        Yes\n      </button>\n    </template>\n  </ModalComp>\n  <ModalComp :show=\"shareModal\" :size=\"'modal-sm'\" @close=\"shareModal = false\">\n    <template #header>\n      <h4 class=\"text-primary mb-0\">\n        <!-- <Icon icon=\"eva:alert-triangle-outline\" style=\"margin-bottom: 3px\" /> -->\n        Share with others\n      </h4>\n    </template>\n\n    <template #body>\n      <!-- <p class=\"text-center my-2\">Are you sure you want to cancel this Document?</p> -->\n      <input type=\"email\" class=\"form-control\" id=\"email\" placeholder=\"Please Enter email\"\n        :style=\"error_message.email && 'border: 1px solid red'\"  v-model=\"email\"\n        @change=\"error_message.email = null\" />\n    </template>\n\n    <template #footer>\n      <button class=\"btn btn-sm btn-secondary\" @click=\"deleteLockerDocument(false)\">\n        cancel\n      </button>\n      <button :disabled=\"loading\" class=\"btn btn-sm btn-primary\" @click=\"shareLockerDocument(true)\">\n        <span v-show=\"loading\" class=\"spinner-border spinner-border-sm\"></span>\n        Share\n      </button>\n    </template>\n  </ModalComp>\n  <div>\n    <ModalComp :show=\"otpModal == false ? true : false\"  :size=\"'modal-sm'\" @close=\"otpModal = false\">\n      <template #header>\n        <h4 class=\"text-primary mb-0\">\n          <!-- <Icon icon=\"eva:alert-triangle-outline\" style=\"margin-bottom: 3px\" /> -->\n          Enter OTP \n        </h4>\n      </template>\n  \n      <template #body>\n\n        <a class=\"text-center my-2\">We have sent an OTP to <span class=\"text-primary text-bold\">{{profile?.email}}</span>  <br/>\n           If you don't get a code, please request another\n        </a>\n        <div>\n          <p  @click=\"resendOtp(true)\" class=\"text-primary text-right mt-1 mb-0\">Resend</p>\n        </div>\n        <input type=\"number\" class=\"form-control\" id=\"otp\" placeholder=\"Please Enter Otp\"\n          :style=\"error_message.otp && 'border: 1px solid red'\"  v-model=\"otp\"\n          @change=\"error_message.otp = null\" />\n\n      </template>\n  \n      <template #footer>\n        <button :disabled=\"loading\" class=\"btn btn-sm btn-primary\" @click=\"otpLocker(true)\">\n          <span v-show=\"loading\" class=\"spinner-border spinner-border-sm\"></span>\n          Proceed\n        </button>\n      </template>\n    </ModalComp>\n  </div>\n  \n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted, onUpdated, computed } from \"vue\";\nimport { Icon } from \"@iconify/vue\";\nimport { useActions, useGetters } from \"vuex-composition-helpers/dist\";\nimport ModalComp from \"@/components/ModalComp.vue\";\nimport Datepicker from \"vuejs3-datepicker\";\nimport moment from \"moment\";\nimport { useStore } from 'vuex'\nimport UploadDocument from './UploadDocument';\nimport \"datatables.net-dt/js/dataTables.dataTables\";\nimport \"datatables.net-bs5\";\nimport { useToast } from \"vue-toast-notification\";\nimport $ from \"jquery\";\nimport { getToken } from \"@/Services/helpers\";\nimport ToNote from \"@/Services/Tonote\";\n\nconst toast = useToast();\nconst store = useStore()\n\nconst today = moment().format(\"YYYY-MM-DD\");\n\nconst profile = computed(() => store.state.ProfileModule.userProfile)\n\nconst dateTime = (date) => {\n  return moment(date).format(\"Do MMM YYYY · h:mm a\");\n};\n\nconst token = getToken()\n\nconst {  allLockerDocuments, postLockerDocument } =\n  useGetters({\n    allLockerDocuments: \"locker/allLockerDocuments\",\n    postLockerDocument: \"locker/postLockerDocument\",\n  });\n\nconst {\n  getLockerDocuments,\n  deleteDocument,\n  getUser\n} = useActions({\n  getLockerDocuments: \"locker/getLockerDocuments\",\n  deleteDocument: \"locker/deleteDocument\",\n  getUser: \"ProfileModule/getUser\",\n});\n\n\nconst data = ref(\"\");\n// data.value = request;\nconst email = ref(\"\");\nconst error_message =({\n  email: \"\",\n  otp: \"\"\n})\nconst otp = ref(\"\");\nconst cancelModal = ref(false);\nconst shareModal = ref(false);\nconst otpModal = ref(profile.value.access_locker_documents)\nconst questionModal = ref(false);\nconst document_id= ref(\"\")\nconst sessionId = ref(\"\");\nconst loading = ref(false)\nconst openSessionModal = () => {\n  // sessionId.value = id;\n  questionModal.value = true;\n};\n\nconst cancelSessionModal = (id) => {\n  sessionId.value = id;\n  cancelModal.value = true;\n};\n\nconst shareDocumentModal = (id) => {\n  document_id.value = id;\n  shareModal.value = true;\n};\n\nconst deleteLockerDocument = (params) => {\n  if (params) {\n    let formData = { id: sessionId.value};\n    // console.log(formData);\n    deleteDocument(formData);\n    cancelModal.value = false;\n  } else {\n    cancelModal.value = false;\n  }\n};\nconst shareLockerDocument = (params) => {\n  if (params) {\n    let formData = { id: sessionId.value};\n    let documents = [\n      {\n      \"document_id\": document_id.value,\n      \"email\": email.value\n      }\n    ]\n    loading.value = true;\n    ToNote.put(`/document-share/${document_id.value}`, {documents} )\n      .then(res => {\n        shareModal.value = false;\n        loading.value = false;\n        toast.success(\"shared successfully\", {\n        timeout: 5000,\n        position: \"top-right\",\n      });\n      }).catch(err => {\n        shareModal.value = false;\n        loading.value = false;\n        toast.error(err.message, {\n        timeout: 5000,\n        position: \"top-right\",\n      });\n      })\n\n    \n  } else {\n    shareModal.value = false;\n  }\n};\n\nconst otpLocker = (params) => {\n  if (params) {\n    let documents = {\n      \"email\": profile.value.email,\n      \"otp\": `${otp.value}`\n      }\n      loading.value = true;\n    ToNote.post(`/document-otp-locker`, documents)\n      .then(res => {\n        otpModal.value = true;\n        getUser()\n        loading.value = false;\n        toast.success(\"updated successfully\", {\n        timeout: 5000,\n        position: \"top-right\",\n      });\n      }).catch(err => {\n        loading.value = false;\n        toast.error(err.response.data.data.error, {\n        timeout: 5000,\n        position: \"top-right\",\n      });\n      })\n  } else {\n    otpModal.value = false;\n  }\n};\n\nconst resendOtp = (params) => {\n  if(params){\n    ToNote.get('/document-otp-locker')\n        .then(res => {\n          toast.success(res?.data?.message, {\n        timeout: 5000,\n        position: \"top-right\",\n      });\n        })\n        .catch((err) => {\n          toast.error(err.message);\n        })\n  }\n\n}\nconst reschedule = ref({});\n\n\nconst  getEnv = () =>{\n      return process.env.VUE_APP_ENVIRONMENT == 'local' ? process.env.VUE_APP_VIDEO_SIGN_PAGE_LOCAL : process.env.VUE_APP_ENVIRONMENT == 'staging' ?  process.env.VUE_APP_VIDEO_SIGN_PAGE_STAGING : process.env.VUE_APP_VIDEO_SIGN_PAGE_LIVE\n    }\n \nconst dateSelected = (data) => {\n  reschedule.value.date = moment(data).format(\"YYYY-MM-DD\");\n};\n\n\n\nonMounted(() => {\n  getLockerDocuments()\n  // getSessionRecords(token.value);\n  // getSessionRecordToday({token: token.value,  entry_point: 'Video'});\n  // TimeSlotsAction();\n  if(profile.value?.access_locker_documents === false){\n    // /api/v1/document-otp-locker\n      ToNote.get('/document-otp-locker')\n        .then(res => {\n          toast.success(res?.data?.message, {\n        timeout: 5000,\n        position: \"top-right\",\n      });\n        })\n        .catch((err) => {\n          toast.error(err.message);\n        })\n    }\n});\n\nonUpdated(() => {\n  \n  \n  setTimeout(() => {\n    if ($.fn.dataTable.isDataTable(\"#allrecord\")) {\n      $(\"#allrecord\").DataTable();\n    } else {\n      if (allLockerDocuments.value.length > 0) {\n        $(\"#allrecord\").DataTable({\n          columnDefs: [{ orderable: false, targets: [0, 4] }],\n          order: [[3, \"desc\"]],\n          aaSorting: [],\n          // sPrevious: \"Previous page\", // This is the link to the previous page\n          // sNext: \"Next page\", // This is the link to the next page  \n          lengthMenu: [\n            [5, 10, 25, 50, -1],\n            [5, 10, 25, 50, \"All\"],\n          ],\n         \n          pageLength: 5,\n        });\n      }\n    }\n  }, 100);\n});\n\n</script>\n\n<style>\n.text-right{\n  text-align: right;\n  cursor: pointer\n}\n.backdrop {\n  backdrop-filter: blur(4px);\n\n}\n.vuejs3-datepicker {\n  display: block;\n}\n\n.vuejs3-datepicker__value {\n  width: 100% !important;\n  min-width: 200px;\n  padding: 0.571rem 1rem !important;\n  border: 1px solid #d8d6de !important;\n}\n</style>\n","import script from \"./locker.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./locker.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./locker.vue?vue&type=style&index=0&id=0d27dd64&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","export * from \"-!../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./DropZone.vue?vue&type=style&index=0&id=40716f28&scoped=true&lang=css\"","<template>\n  <div class=\"w-100\">\n    <div @dragenter.prevent=\"toggleActive\" @dragleave.prevent=\"toggleActive\" @dragover.prevent\n      @drop.prevent=\"toggleActive\" :class=\"{ 'active-dropzone': active }\" class=\"dropzone\">\n      <label for=\"dropzoneFile\" class=\"custom-upload\" role=\"button\">\n        <div class=\"text-center\">\n          <h4>Drag and drop to upload</h4>\n          <h4>OR</h4>\n          <h4 class=\"btn btn-primary\">Select File</h4>\n          <div class=\"text-muted mt-1\" style=\"font-size: 12px\">\n            <slot name=\"format\">PDF only</slot>\n            <br />\n            <slot name=\"limit\">\n               <span class=\"\">Maximum size 2mb per file</span>\n            </slot>\n          </div>\n          <slot name=\"input\">\n            <input type=\"file\" id=\"dropzoneFile\" multiple class=\"dropzoneFile\" />\n          </slot>\n        </div>\n      </label>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref } from \"vue\";\n\nconst active = ref(false);\n\nconst toggleActive = () => { active.value = !active.value };\n</script>\n\n<style scoped>\n.dropzone {\n  width: 100%;\n  height: 200px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  row-gap: 16px;\n  border: 2px dashed #999;\n  background-color: #fff;\n  transition: 0.3s ease all;\n  border-radius: 3px;\n}\n\nlabel {\n  transition: 0.3s ease all;\n}\n\n.dropzone input {\n  display: none;\n}\n\n.active-dropzone {\n  color: #fff;\n  border-color: #fff;\n  background-color: #00cfe8;\n}\n\n.custom-upload {\n  width: 100%;\n  height: 100%;\n  display: grid;\n  place-items: center;\n}\n\n.dropzone:hover {\n  border-color: #4169e1;\n}\n</style>\n","import script from \"./DropZone.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./DropZone.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./DropZone.vue?vue&type=style&index=0&id=40716f28&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/mac/Documents/tonote_for_users/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-40716f28\"]])\n\nexport default __exports__","export * from \"-!../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./locker.vue?vue&type=style&index=0&id=0d27dd64&lang=css\"","export * from \"-!../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./UploadDocument.vue?vue&type=style&index=0&id=68cfda79&lang=css&scoped=true\""],"sourceRoot":""}